defaultEntryPoints = ["web", "web-secure"]

[log]
  level = "info"

[api]
  dashboard = true

[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.web-secure]
    address = ":443"

[providers]
  [providers.docker] 
    swarmMode = true
    watch = true
    exposedbydefault = false

    [providers.docker.http]
      [providers.docker.http.middlewares]
        [providers.docker.http.middlewares.global-http-to-https]
          [providers.docker.http.middlewares.global-http-to-https.redirectRegex]
            regex = "^http://(.*)"
            replacement = "https://$1"